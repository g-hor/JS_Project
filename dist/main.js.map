{"version":3,"file":"main.js","mappings":"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","sources":["webpack://state_stats/./src/scripts/data_parsers.js","webpack://state_stats/./src/scripts/map.js","webpack://state_stats/./src/index.js"],"sourcesContent":["export function calculateSD(arr) {\n  const length = arr.length;\n  const avg = arr.reduce((x, y) => x + y) / length;\n  const deviations = arr.map(n => n - avg);\n  const squareDevs = deviations.map(n => Math.pow(n, 2));\n  const variance = squareDevs.reduce((x, y) => x + y) / length;\n  return Math.sqrt(variance);\n}\n\n\n// removes commas from a stringified number\nexport function parse(numString) {\n  if (numString.includes(',')) {\n    return parseInt(numString.replace(/,/g, ''));\n  } else {\n    return parseInt(numString);\n  }\n}\n","import { calculateSD, parse } from \"./data_parsers\";\n\nexport function fetchAndRender(url, colors) {\n  const deviationText = [\n    \"Two or More Standard Deviations (SD) Below National Average (NA)\",\n    \"Between Two and One SD Below NA\",\n    \"Between One SD Below NA and NA\",\n    \"Between One SD Above NA and NA\",\n    \"Between One and Two SD Above NA\",\n    \"Two more More SD Above NA\"\n  ]\n\n  let mapData;\n  let csvData;\n\n  \n  d3.json(\"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json\")\n    .then(data => {\n      mapData = data;\n      // console.log(mapData);\n  \n      d3.csv(url)\n        .then(data => {\n          csvData = data;\n          // console.log(csvData);\n          \n          renderMap();\n        })\n    })\n  \n  function renderMap() {\n    const width = 950;\n    const height = 520;\n    const path = d3.geoPath(d3.geoAlbersUsa());\n    const svg = d3\n      .select('.us-map')\n      .attr('viewBox', [0, 0, width, height])\n      .on(\"click\", reset);\n    const g = svg.append('g');\n\n    // defines how much to zoom in (initialized here to allow access in later callbacks)\n    const zoom = d3.zoom()\n      .scaleExtent([1, 8])\n      .on(\"zoom\", zoomed);\n\n\n    /* uses 'mapData' to create geometric shapes for states\n      applies fill color based on selected data\n      applies 'clicked' callback function to zoom in on selected state\n    */\n    const states = g.append('g')\n      .attr('cursor', 'pointer')\n      .selectAll('path')\n      .data(topojson.feature(mapData, mapData.objects.states).features)\n      .enter()\n      .append('path')\n      .attr('d', path)\n      .attr('fill', (state) => {\n        let stateName = state.properties.name;\n        let stateData = csvData.find((ele) => {\n          return ele[\"State\"] === stateName\n        })\n\n        const nationalAvg = d3.mean(csvData.slice(6), ele => parse(ele[\"18 or Older Estimate\"]))\n        const standardDev = (calculateSD(d3.map(csvData.slice(6), d => parse(d['18 or Older Estimate']))));\n\n        stateData ||= {\"18 or Older Estimate\": `${nationalAvg}`}\n        const stateAvg = parse(stateData[\"18 or Older Estimate\"]);\n\n        const minusTwoSD = nationalAvg - (2 * standardDev);\n        const minusOneSD = nationalAvg - (1 * standardDev);\n        const plusOneSD = nationalAvg + (1 * standardDev);\n        const plusTwoSD = nationalAvg + (2 * standardDev);\n        // debugger\n        \n        if (stateAvg <= minusTwoSD) {\n          return colors[0];\n        } else if (stateAvg > minusTwoSD && stateAvg <= minusOneSD) {\n          return colors[1];\n        } else if (stateAvg > minusOneSD && stateAvg <= nationalAvg) {\n          return colors[2];\n        } else if (stateAvg > nationalAvg && stateAvg <= plusOneSD) {\n          return colors[3];\n        } else if (stateAvg > plusOneSD && stateAvg <= plusTwoSD) {\n          return colors[4];\n        } else {\n          return colors[5];\n        }\n      })\n      .join('path')\n      .on('click', clicked)\n      .attr('d', path);\n\n\n    // add HTML title element to each state (displays upon hovering)\n    states.append('title').text(state => state.properties.name);\n\n\n    // adds white state borders\n    g.append('path')\n      .attr('fill', 'none')\n      .attr('stroke', 'white')\n      .attr('stroke-linejoin', 'round')\n      .attr('d', path(topojson.mesh(mapData, mapData.objects.states, (a, b) => a !== b)))\n\n\n    // create color legend\n    const legend = d3.select('.legend');\n    let yAxis = 65;\n\n    // iterate through colors to create colored rectangle + associated text description\n    colors.forEach(function(color, idx) {\n      legend.append('rect')\n        .attr('x', '0')\n        .attr('y', `${yAxis}`)\n        .attr('width', '20')\n        .attr('height', '80')\n        .attr('fill', `${color}`)\n        .attr('id', `color-${idx}`)\n        .attr('idx', idx)\n        .attr('data-text', `${deviationText[idx]}`)\n\n      d3.select(`#color-${idx}`)\n        .append('text')\n        .attr('x', '23')\n        .attr('y', `${yAxis}`)\n        .attr('width', '200')\n        .attr('height', '80')\n        .text(`${deviationText[idx]}`)\n\n      d3.select(`#color-${idx}`)\n        .on('mouseover', (e) => {\n          const el = e.target;\n          const detail = el.dataset.text;\n          const idx = Number(el.getAttribute('idx'));\n          const legendDetail = document.getElementById(\"legend-detail\");\n          const offsetLeft = document.querySelector('.map-container').offsetLeft;\n          const offsetTop = document.querySelector('.map-container').offsetTop;\n          const legendWidth = document.querySelector('.legend').width.baseVal.value;\n          legendDetail.innerText = detail;\n          legendDetail.style.display = \"block\";\n          legendDetail.style.left = `${offsetLeft + legendWidth}px`;\n          legendDetail.style.top = `${offsetTop + 65 + (80 * idx)}px`;\n          legendDetail.style.backgroundColor = color;\n        })\n        .on('mouseout', () => {\n          const legendDetail = document.getElementById(\"legend-detail\");\n          legendDetail.style.display = 'none';\n        });\n\n\n      yAxis += 80;\n    });\n\n\n    \n    // zoom in on state when clicked\n    function clicked(event, d) {\n      const [[x0, y0], [x1, y1]] = path.bounds(d);\n      event.stopPropagation();\n      states.transition().style(\"fill\", null);\n      svg.transition().duration(750).call(\n        zoom.transform,\n        d3.zoomIdentity\n          .translate(width / 2, height / 2)\n          .scale(Math.min(8, 0.9 / Math.max((x1 - x0) / width, (y1 - y0) / height)))\n          .translate(-(x0 + x1) / 2, -(y0 + y1) / 2),\n        d3.pointer(event, svg.node())\n      );\n    }\n    \n    function zoomed(event) {\n      const {transform} = event;\n      g.attr(\"transform\", transform);\n      g.attr(\"stroke-width\", 1 / transform.k);\n    }\n\n\n    // resets view back to default sizing/position\n    function reset() {\n      states.transition().style(\"fill\", null);\n      svg.transition().duration(750).call(\n        zoom.transform,\n        d3.zoomIdentity,\n        d3.zoomTransform(svg.node()).invert([width / 2, height / 2])\n      );\n    }\n\n    // enables click-dragging the map around inside SVG element\n    svg.call(zoom);\n\n  }\n\n}","// import Example from \"./scripts/example.js\"; // syntax to import our class file\n// import { renderMap } from \"./scripts/map.js\";\n// import { calculate } from \"./scripts/calculation.js\";\nimport { fetchAndRender } from \"./scripts/map.js\";\n\nconst ANY_ILLNESS = [\"#6B705C\", \"#A5A58D\", \"#B7B7A4\", \"#FFE8D6\", \"#DDBEA9\", \"#CB997E\"];\nconst DEPRESSION = [\"#ccccff\", \"#99ccff\", \"#6699ff\", \"#3366ff\", \"#3333ff\", \"#000066\"];\nconst SRS_ILLNESS = [\"#F7D1CD\", \"#E8C2CA\", \"#D1B3C4\", \"#B392AC\", \"#735D78\", \"#4C404F\"]\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n  // user instructions modal\n  const userModal = document.getElementById('user-modal')\n  const closeButton = document.querySelector('.close')\n  \n  closeButton.addEventListener('click', () => userModal.classList.add('hidden'));\n  window.addEventListener('click', function(event) {\n    if (event.target == userModal) {\n      userModal.classList.add('hidden');\n    }\n  })\n\n\n  fetchAndRender(\"NSDUH_count/table27.csv\", ANY_ILLNESS);\n\n  document.getElementById(\"table27\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n    document.querySelector(\"h2\").innerHTML = \"Any Mental Illness in the Past Year\";\n    fetchAndRender(\"NSDUH_count/table27.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table28\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Serious Mental Illness in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table28.csv\", SRS_ILLNESS);\n  })\n\n  document.getElementById(\"table29\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Received Mental Health Services in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table29.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table26\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Needing But Not Receiving Treatment at a Specialty Facility for Substance Use in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table26.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table30\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Major Depressive Episode in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table30.csv\", DEPRESSION);\n  })\n\n  document.getElementById(\"table31\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Had Serious Thoughts of Suicide in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table31.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table32\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Made Any Suicide Plans in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table32.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table33\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Attempted Suicide in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table33.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table2\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Marijuana Use in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table2.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table7\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Cocaine Use in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table7.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table11\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Methamphetamine Use in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table11.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table12\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Pain Reliever Misuse in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table12.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table22\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Alcohol Use Disorder in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table22.csv\", ANY_ILLNESS);\n  })\n\n  document.getElementById(\"table23\").addEventListener(\"click\", () => {\n    document.querySelector(\".us-map\").innerHTML = \"\";\n    document.querySelector(\".legend\").innerHTML = \"\";\n\n    document.querySelector(\"h2\").innerHTML = \"Substance Use Disorder in the Past Year\";\n\n    fetchAndRender(\"NSDUH_count/table23.csv\", ANY_ILLNESS);\n  })\n\n})"],"names":["parse","numString","includes","parseInt","replace","fetchAndRender","url","colors","deviationText","mapData","csvData","d3","json","then","data","csv","width","height","path","geoPath","geoAlbersUsa","svg","select","attr","on","states","transition","style","duration","call","zoom","transform","zoomIdentity","zoomTransform","node","invert","g","append","scaleExtent","event","k","selectAll","topojson","feature","objects","features","enter","state","stateName","properties","name","stateData","find","ele","nationalAvg","mean","slice","standardDev","arr","length","avg","reduce","x","y","variance","map","n","Math","pow","sqrt","calculateSD","d","stateAvg","minusTwoSD","minusOneSD","plusOneSD","plusTwoSD","join","x0","y0","x1","y1","bounds","stopPropagation","translate","scale","min","max","pointer","text","mesh","a","b","legend","yAxis","forEach","color","idx","e","el","target","detail","dataset","Number","getAttribute","legendDetail","document","getElementById","offsetLeft","querySelector","offsetTop","legendWidth","baseVal","value","innerText","display","left","top","backgroundColor","renderMap","ANY_ILLNESS","DEPRESSION","SRS_ILLNESS","addEventListener","userModal","classList","add","window","innerHTML"],"sourceRoot":""}